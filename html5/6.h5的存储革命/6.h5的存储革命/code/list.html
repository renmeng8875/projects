<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	// 列出所有缓存数据，返回json数组
	function listAllData(){
		var list=[];
		for(var i=0;i<localStorage.length;i++){
			var key = localStorage.key(i);
			var value = localStorage.getItem(key);
			
			list.push({"k":key,"v":value});
		}
		
		return list;
	}
	
	function showData(){
		var data = listAllData();
		var html = "";
		for(var i=0;i<data.length;i++){
			html += data[i].k + "=" + data[i].v +"<button onclick=\"del('" + data[i].k + "')\">删除</button><br />";
		}
		
		document.querySelector("#div").innerHTML = html;
	}
	
	function del(key){
		localStorage.removeItem(key);
		
		showData();
	}
</script>
</head>
<body>
	<h3>下面是本地存储的所有数据</h3>
	<div id="div">
		
	</div>
	
	<script type="text/javascript">
	showData();
	</script>
</body>
</html>